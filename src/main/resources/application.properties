############################################
# HTTP BÁSICO
############################################
# Bind universal (útil en contenedores) y puerto estable:
quarkus.http.port=8181

# Prefijo raíz para TODA la app (opcional, útil para versionar o enrutar detrás de un proxy)
quarkus.http.root-path=/chatPort
api.title=chat-port-service
api.version=1.0.0

# HTTP/2 (mejor uso de conexiones)
quarkus.http.http2=true

# Compresión para respuestas grandes (JSON, etc.)
quarkus.http.enable-compression=true
quarkus.http.compress-media-types=application/json,text/plain

# Tamaños máximos (defensa básica contra payloads abusivos)
quarkus.http.limits.max-body-size=16M
quarkus.http.limits.max-header-size=40K
quarkus.http.limits.max-initial-line-length=8192

# Timeouts razonables
quarkus.http.idle-timeout=30S
quarkus.http.read-timeout-http2=30S
 
############################################
# CORS
############################################
quarkus.http.cors=false

############################################
# ACCESO DETALLADO (access log estilo NCSA)
############################################
quarkus.http.access-log.enabled=false

############################################
# LOGGING
############################################ 
quarkus.log.level=ERROR
quarkus.log.category."org.apache.camel".level=ERROR
quarkus.log.category."io.quarkus".level=ERROR
quarkus.log.console.json=false
quarkus.log.console.darken=1

############################################
# OPENAPI / SWAGGER UI
############################################ 
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/chatPort/swagger
quarkus.swagger-ui.enable=${SWAGGER_ENABLE}

############################################
# HEALTH / MÉTRICAS
############################################
quarkus.smallrye-health.root-path=/chatPort/q/health

############################################
# DETRÁS DE PROXY / INGRESS
############################################
# Respeta X-Forwarded-* de tu proxy/ingress
quarkus.http.proxy.proxy-address-forwarding=true
quarkus.http.proxy.allow-forwarded=true


############################################
# CAMEL REST (usando el servidor de Quarkus)
############################################
# El binding/rest DSL lo pones en código; aquí solo defaults si quieres:
# (Camel tomará /tps como root y tú le sumas /api como contextPath)
quarkus.http.read-timeout=30S

# API Configuration
quarkus.camel.openapi.expose.enabled=true
quarkus.smallrye-openapi.servers=${SWAGGER_SERVERS_AT}

# Artemis configuration 
# Cambia a false para deshabilitar Artemis 
quarkus.artemis.enabled=${AMQ_ARTEMIS_ENABLED}
quarkus.artemis.url=${AMQ_ARTEMIS_URL}
quarkus.artemis.username=${AMQ_ARTEMIS_USERNAME:redhat02}
quarkus.artemis.password=${AMQ_ARTEMIS_PASSWORD:redhat}

openapi.enabled=${OPENAPI_ENABLED}

############################################
# BUK API CONFIGURATION
############################################
buk.api.key=${BUK_API_KEY}
buk.api.url=${BUK_API_URL}

############################################
# JWT Configuration
################################### base de datos utilizada.

# --- Configuración H2 ---
quarkus.datasource.db-kind=h2
quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.driver=org.h2.Driver
quarkus.hibernate-orm.database.generation=drop-and-create
quarkus.datasource.jdbc.max-size=8

# --- Configuración Oracle (comentada, descomenta si la necesitas) ---
# quarkus.datasource.db-kind=oracle
# quarkus.datasource.username=${DB_USERNAME}
# quarkus.datasource.password=${DB_PASSWORD}
# quarkus.datasource.jdbc.url=jdbc:oracle:thin:@${DB_HOST}:${DB_PORT}/${DB_SERVICE}
# quarkus.datasource.jdbc.driver=oracle.jdbc.OracleDriver
# quarkus.datasource.jdbc.min-size=10 
# quarkus.datasource.jdbc.max-size=50 
# quarkus.datasource.jdbc.acquire-retry-attempts=3  
# quarkus.datasource.jdbc.idle-removal-interval=60s 
# quarkus.datasource.jdbc.leak-detection-interval=30s

camel.component.elasticsearch.host-addresses=${ELASTICSEARCH_HOST}
camel.component.elasticsearch.user=${ELASTICSEARCH_USERNAME}
camel.component.elasticsearch.password=${ELASTICSEARCH_PASSWORD}
elastic.index.name=${ELASTICSEARCH_INDEX}
